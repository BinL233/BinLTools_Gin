{"ast":null,"code":"import React,{useState}from\"react\";import\"./register.css\";import Header from\"../../components/header/header.js\";import Footer from\"../../components/footer/footer.js\";import ErrorBox from\"../../components/errorBox/errorBox.js\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Register(){const[user,setUser]=useState(\"\");const[pwd,setPwd]=useState(\"\");const[cpwd,setCpwd]=useState(\"\");const[message,setMessage]=useState(\"\");const handleSubmit=async event=>{event.preventDefault();const response=await fetch(\"/api/register_process\",{method:\"POST\",headers:{\"Content-Type\":\"application/x-www-form-urlencoded\"},body:new URLSearchParams({user:user,pwd:pwd,cpwd:cpwd})});const data=await response.json();if(response.ok){setMessage(\"Register successful! Token: \".concat(data.token));}else{setMessage(data.message||\"Register failed\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"register\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Header,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"frame\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"register_sub\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:\"Register\"}),/*#__PURE__*/_jsx(\"div\",{className:\"biao\",children:/*#__PURE__*/_jsxs(\"form\",{id:\"myForm\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{id:\"boxs\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"box1\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username: \"}),/*#__PURE__*/_jsx(\"label\",{children:\"Password: \"}),/*#__PURE__*/_jsx(\"label\",{children:\"Confirm Password: \"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"box2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"user\",value:user,onChange:e=>setUser(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"pwd\",value:pwd,onChange:e=>setPwd(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"cpwd\",value:cpwd,onChange:e=>setCpwd(e.target.value)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container2\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"button\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"button__line\"}),/*#__PURE__*/_jsx(\"div\",{className:\"button__line\"}),/*#__PURE__*/_jsx(\"span\",{className:\"button__text\",children:\"Register\"})]}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"/login\",id:\"go_to_login\",children:\"I already had an account. I want to login!\"})})]})]})})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Footer,{})}),/*#__PURE__*/_jsx(\"div\",{id:\"error_box\",children:/*#__PURE__*/_jsx(ErrorBox,{message:message})})]});}export default Register;","map":{"version":3,"names":["React","useState","Header","Footer","ErrorBox","jsx","_jsx","jsxs","_jsxs","Register","user","setUser","pwd","setPwd","cpwd","setCpwd","message","setMessage","handleSubmit","event","preventDefault","response","fetch","method","headers","body","URLSearchParams","data","json","ok","concat","token","className","children","id","onSubmit","type","name","value","onChange","e","target","href"],"sources":["/Users/kaileying/Documents/Repos/BinLTools_Gin/web/src/pages/register/register.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport \"./register.css\";\nimport Header from \"../../components/header/header.js\";\nimport Footer from \"../../components/footer/footer.js\";\nimport ErrorBox from \"../../components/errorBox/errorBox.js\";\n\nfunction Register() {\n    const [user, setUser] = useState(\"\");\n    const [pwd, setPwd] = useState(\"\");\n    const [cpwd, setCpwd] = useState(\"\");\n    const [message, setMessage] = useState(\"\");\n\n    const handleSubmit = async (event) => {\n        event.preventDefault();\n\n        const response = await fetch(\"/api/register_process\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/x-www-form-urlencoded\",\n            },\n            body: new URLSearchParams({\n                user: user,\n                pwd: pwd,\n                cpwd: cpwd,\n            }),\n        });\n\n        const data = await response.json();\n        if (response.ok) {\n            setMessage(`Register successful! Token: ${data.token}`);\n        } else {\n            setMessage(data.message || \"Register failed\");\n        }\n    };\n\n    return (\n        <div className=\"register\">\n            {/* Import Header */}\n            <div>\n                <Header />\n            </div>\n\n            <div className=\"frame\">\n                <div className='register_sub'>\n                    <div className='title'>Register</div>\n                    <div className='biao'>\n                        <form id=\"myForm\" onSubmit={handleSubmit}>\n                            <div id=\"boxs\">\n                                <div className=\"box1\">\n                                    <label>Username: </label>\n                                    <label>Password: </label>\n                                    <label>Confirm Password: </label>\n                                </div>\n                                <div className=\"box2\">\n                                    <input\n                                        type=\"text\"\n                                        name=\"user\"\n                                        value={user}\n                                        onChange={(e) => setUser(e.target.value)}\n                                    />\n                                    <input\n                                        type=\"password\"\n                                        name=\"pwd\"\n                                        value={pwd}\n                                        onChange={(e) => setPwd(e.target.value)}\n                                    />\n                                    <input\n                                        type=\"password\"\n                                        name=\"cpwd\"\n                                        value={cpwd}\n                                        onChange={(e) => setCpwd(e.target.value)}\n                                    />\n                                </div>\n                            </div>\n                            <div className=\"container2\">\n                                <button type=\"submit\" className=\"button\">\n                                    <div className=\"button__line\"></div>\n                                    <div className=\"button__line\"></div>\n                                    <span className=\"button__text\">Register</span>\n                                </button>\n                                <p><a href=\"/login\" id=\"go_to_login\">I already had an account. I want to login!</a></p>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n\n            {/* Import Footer */}\n            <div>\n                <Footer />\n            </div>\n\n            {/* Import errorBox */}\n            <div id=\"error_box\">\n                {<ErrorBox message={message} />}\n            </div>\n        </div>\n    );\n}\n\nexport default Register;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}