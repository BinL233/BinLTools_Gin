{"ast":null,"code":"import React,{useState,useEffect}from'react';import Footer from\"../../components/footer/footer.js\";import\"./reactionTest.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";var num=Math.ceil(Math.random()*5);var flag=0;var beginTime=0;var endTime=0;function ReactionTest(){const[reactionText,setReactionText]=useState(\"Click Here\");const[reactionColor,setReactionColor]=useState(\"#57F15C\");const[ranks,setRanks]=useState([]);useEffect(()=>{fetch('/api/reaction_test_rank').then(response=>response.json()).then(data=>setRanks(data)).catch(error=>console.error('Error fetching data:',error));},[]);const ChangeColor=()=>{if(flag===1){endTime=+new Date();setReactionColor(\"#57F15C\");setReactionText(\"\".concat(endTime-beginTime,\" ms\"));// Send \"reactionB\" value to the backend\nvar xhr=new XMLHttpRequest();xhr.open(\"POST\",\"/api/handle_reaction_b\",true);xhr.setRequestHeader('Content-Type','application/x-www-form-urlencoded');xhr.send(\"reactionB=\"+encodeURIComponent(\"\".concat(endTime-beginTime,\" ms\")));}else if(flag===0){setReactionColor(\"#57F15C\");setReactionText(\"Wait...\");setTimeout(()=>{setReactionColor(\"#E0457B\");setReactionText(\"Click!\");beginTime=+new Date();},num*1000+1000);}else if(flag===2){window.location.reload();}flag++;};return/*#__PURE__*/_jsxs(\"div\",{className:\"reactionTest\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"reaction_button\",class:\"container\",children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:ChangeColor,id:\"reactionB\",style:{background:reactionColor},children:reactionText})}),/*#__PURE__*/_jsx(\"p\",{children:\"You can refresh current page by clicking on the green area again after the test :)\"})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"rank\",class:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{if:\"rank_title\",children:/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"label\",{id:\"rank_title\",children:\"Rank\"})})}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"User Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Score\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:ranks.map(rank=>/*#__PURE__*/_jsxs(\"tr\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"td\",{children:rank.id}),/*#__PURE__*/_jsx(\"td\",{children:rank.userName}),/*#__PURE__*/_jsxs(\"td\",{children:[rank.score,\" ms\"]})]},rank.id))})]})]}),/*#__PURE__*/_jsx(\"div\",{children:Footer()})]});}export default ReactionTest;","map":{"version":3,"names":["React","useState","useEffect","Footer","jsx","_jsx","jsxs","_jsxs","num","Math","ceil","random","flag","beginTime","endTime","ReactionTest","reactionText","setReactionText","reactionColor","setReactionColor","ranks","setRanks","fetch","then","response","json","data","catch","error","console","ChangeColor","Date","concat","xhr","XMLHttpRequest","open","setRequestHeader","send","encodeURIComponent","setTimeout","window","location","reload","className","children","id","class","onClick","style","background","if","map","rank","textAlign","userName","score"],"sources":["/Users/kaileying/Documents/Repos/BinLTools_Gin/web/src/pages/reactionTest/reactionTest.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Footer from \"../../components/footer/footer.js\"\nimport \"./reactionTest.css\"\n\nvar num = Math.ceil(Math.random()*5);\nvar flag = 0;\nvar beginTime = 0;\nvar endTime = 0;\n\nfunction ReactionTest() {\n    const [reactionText, setReactionText] = useState(\"Click Here\");\n    const [reactionColor, setReactionColor] = useState(\"#57F15C\");\n    const [ranks, setRanks] = useState([]);\n\n    useEffect(() => {\n        fetch('/api/reaction_test_rank')\n            .then(response => response.json())\n            .then(data => setRanks(data))\n            .catch(error => console.error('Error fetching data:', error));\n    }, []);\n\n    const ChangeColor = () => {\n        if (flag === 1) {\n            endTime = +new Date();\n            setReactionColor(\"#57F15C\");\n            setReactionText(`${endTime - beginTime} ms`);\n\n            // Send \"reactionB\" value to the backend\n            var xhr = new XMLHttpRequest();\n            xhr.open(\"POST\", \"/api/handle_reaction_b\", true);\n            xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n            xhr.send(\"reactionB=\" + encodeURIComponent(`${endTime - beginTime} ms`));\n        } else if (flag === 0) {\n            setReactionColor(\"#57F15C\");\n            setReactionText(\"Wait...\");\n            setTimeout(() => {\n                setReactionColor(\"#E0457B\");\n                setReactionText(\"Click!\");\n                beginTime = +new Date();\n            }, num * 1000 + 1000);\n        } else if (flag === 2) {\n            window.location.reload();\n        }\n\n        flag++;\n    };\n\n    return (\n        <div className=\"reactionTest\">\n            <div id=\"reaction_button\" class=\"container\">\n                <p>           \n                    <button onClick={ ChangeColor } id=\"reactionB\" style={{ background: reactionColor }}>\n                        { reactionText }\n                    </button>\n                </p>\n                <p>You can refresh current page by clicking on the green area again after the test :)</p>\n            </div>\n\n            <div id=\"rank\" class=\"container\">\n                <div if=\"rank_title\">\n                    <p><label id=\"rank_title\">Rank</label></p>\n                </div>\n                <table>\n                    <thead>\n                        <tr>\n                            <th>ID</th>\n                            <th>User Name</th>\n                            <th>Score</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {ranks.map((rank) => (\n                            <tr key={rank.id} style={{ textAlign: 'center' }}>\n                                <td>{rank.id}</td>\n                                <td>{rank.userName}</td>\n                                <td>{rank.score} ms</td>\n                            </tr>\n                        ))}\n                    </tbody>\n                </table>\n            </div>\n            \n\n            {/* Import Footer */}\n            <div>\n                { Footer() }\n            </div>\n        </div>\n    );\n}\n\nexport default ReactionTest;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}