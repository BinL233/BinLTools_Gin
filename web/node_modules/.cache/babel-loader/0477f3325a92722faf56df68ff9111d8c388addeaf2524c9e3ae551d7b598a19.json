{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import\"./header.css\";import $ from'jquery';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Header(){const[loginText,setLoginText]=useState({username:\"Login\"});const[userPageLink,setUserPageLink]=useState(\"/login\");useEffect(()=>{console.log(\"Fetching login data...\");// Get login data from backend\nfetch('/api/user/login').then(response=>{if(!response.ok){setUserPageLink(\"/login\");setLoginText({username:\"Login\"});throw new Error('Network response was not ok');}return response.json();}).then(data=>{console.log(\"Login data received:\",data);setLoginText(data);setUserPageLink(\"/user_page\");}).catch(error=>{setUserPageLink(\"/login\");setLoginText({username:\"Login\"});console.error('Error fetching data:',error);});},[]);useEffect(()=>{const loadModule=()=>{const initializeViewer=()=>{var config={right:'0px',bottom:'-5px',width:350,height:350,basePath:'/Resources/L2D',role:'Domino',opacity:1,mobile:false};var v=new window.L2DViewer(config);console.log('L2DViewer instance created',v);};if(typeof window.L2DViewer!=='undefined'){initializeViewer();}else{console.error('L2DViewer is not defined');}};if(document.readyState==='complete'){loadModule();}else{window.addEventListener('load',loadModule);return()=>{window.removeEventListener('load',loadModule);};}$(document).ready(function(){headerShadow();});function headerShadow(){var header=$('header');$(window).scroll(function(e){if(header.offset().top>0){if(!header.hasClass('shadow')){header.addClass('shadow');}}else{header.removeClass('shadow');}});}loadModule();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"meta\",{charSet:\"UTF-8\"}),/*#__PURE__*/_jsx(\"meta\",{name:\"viewport\",content:\"width=device-width, initial-scale=1.0\"}),/*#__PURE__*/_jsx(\"link\",{href:\"https://fonts.googleapis.com/css?family=Open Sans\",rel:\"stylesheet\"}),/*#__PURE__*/_jsx(\"link\",{rel:\"icon\",href:\"/static/images/BinLTools_logo.ico\",type:\"image/x-icon\"}),/*#__PURE__*/_jsx(\"link\",{rel:\"preconnect\",href:\"https://fonts.googleapis.com\"}),/*#__PURE__*/_jsx(\"link\",{rel:\"preconnect\",href:\"https://fonts.gstatic.com\",crossOrigin:\"true\"}),/*#__PURE__*/_jsx(\"link\",{href:\"https://fonts.googleapis.com/css2?family=Montserrat:wght@100;400&display=swap\",rel:\"stylesheet\"}),/*#__PURE__*/_jsx(\"link\",{href:\"https://fonts.googleapis.com/css2?family=Montserrat:wght@100;400;700&display=swap\",rel:\"stylesheet\"}),/*#__PURE__*/_jsx(\"link\",{href:\"https://fonts.googleapis.com/css2?family=Montserrat:wght@100;400;500;700&display=swap\",rel:\"stylesheet\"}),/*#__PURE__*/_jsx(\"link\",{rel:\"stylesheet\",href:\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css\"}),/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"branding\",children:/*#__PURE__*/_jsx(\"h1\",{children:/*#__PURE__*/_jsxs(\"a\",{id:\"header_logo\",href:\"/\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"highlight\",children:\"BinL\"}),\"Tools\"]})})}),/*#__PURE__*/_jsx(\"nav\",{children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/about_me\",children:\"About Me\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"https://github.com/BinL233\",children:\"GitHub\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:userPageLink,children:loginText.username})})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"l2d\",id:\"L2d\",children:/*#__PURE__*/_jsx(\"div\",{id:\"L2dCanvas\",className:\"Canvas\"})})]});}export default Header;","map":{"version":3,"names":["React","useEffect","useState","Link","$","jsx","_jsx","jsxs","_jsxs","Header","loginText","setLoginText","username","userPageLink","setUserPageLink","console","log","fetch","then","response","ok","Error","json","data","catch","error","loadModule","initializeViewer","config","right","bottom","width","height","basePath","role","opacity","mobile","v","window","L2DViewer","document","readyState","addEventListener","removeEventListener","ready","headerShadow","header","scroll","e","offset","top","hasClass","addClass","removeClass","className","children","charSet","name","content","href","rel","type","crossOrigin","id","to"],"sources":["/Users/kaileying/Documents/Repos/BinLTools_Gin/web/src/components/header/header.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport \"./header.css\"\nimport $ from 'jquery';\n\nfunction Header() {\n    const [loginText, setLoginText] = useState({username: \"Login\"});\n    const [userPageLink, setUserPageLink] = useState(\"/login\");\n\n    useEffect(() => {\n        console.log(\"Fetching login data...\");\n\n        // Get login data from backend\n        fetch('/api/user/login')\n            .then(response => {\n                if (!response.ok) {\n                    setUserPageLink(\"/login\")\n                    setLoginText({username: \"Login\"})\n                    throw new Error('Network response was not ok');\n                }\n                return response.json();\n            })\n            .then(data => {\n                console.log(\"Login data received:\", data);\n                setLoginText(data);\n                setUserPageLink(\"/user_page\")\n            })\n            .catch(error => {\n                setUserPageLink(\"/login\")\n                setLoginText({username: \"Login\"})\n                console.error('Error fetching data:', error)\n            });\n        }, []);\n    \n    useEffect(() => {\n        const loadModule = () => {\n            const initializeViewer = () => {\n                var config = {\n                    right: '0px',\n                    bottom: '-5px',\n                    width: 350,\n                    height: 350,\n                    basePath: '/Resources/L2D',\n                    role: 'Domino',\n                    opacity: 1,\n                    mobile: false\n                };\n\n                var v = new window.L2DViewer(config);\n                console.log('L2DViewer instance created', v);\n            };\n\n            if (typeof window.L2DViewer !== 'undefined') {\n                initializeViewer();\n            } else {\n                console.error('L2DViewer is not defined');\n            }\n        };\n\n        if (document.readyState === 'complete') {\n            loadModule();\n        } else {\n            window.addEventListener('load', loadModule);\n            return () => {\n                window.removeEventListener('load', loadModule);\n            };\n        }\n\n        $(document).ready(function() {\n            headerShadow();\n        });\n\n        function headerShadow() {\n            var header = $('header');\n        \n            $(window).scroll(function(e){\n                if(header.offset().top > 0){\n                    if(!header.hasClass('shadow')){\n                        header.addClass('shadow');\n                    }\n                }else{\n                    header.removeClass('shadow');\n                }\n            });\n        }\n\n        loadModule();\n\n    }, []);\n\n    return (\n        <div className=\"header\">\n            <meta charSet=\"UTF-8\" />\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n            <link href='https://fonts.googleapis.com/css?family=Open Sans' rel='stylesheet' />\n            <link rel=\"icon\" href=\"/static/images/BinLTools_logo.ico\" type=\"image/x-icon\" />\n            <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\" />\n            <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossOrigin=\"true\" />\n            <link href=\"https://fonts.googleapis.com/css2?family=Montserrat:wght@100;400&display=swap\" rel=\"stylesheet\" />\n            <link href=\"https://fonts.googleapis.com/css2?family=Montserrat:wght@100;400;700&display=swap\" rel=\"stylesheet\" />\n            <link href=\"https://fonts.googleapis.com/css2?family=Montserrat:wght@100;400;500;700&display=swap\" rel=\"stylesheet\" />\n            <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css\" />\n            \n            <header>\n                <div className=\"container\">\n                    <div id=\"branding\">\n                        <h1><a id=\"header_logo\" href=\"/\"><span className=\"highlight\">BinL</span>Tools</a></h1>\n                    </div>\n                    <nav>\n                        <ul>\n                            <li><Link to=\"/about_me\">About Me</Link></li>\n                            <li><a href=\"https://github.com/BinL233\">GitHub</a></li>\n                            <li><Link to={userPageLink}>{loginText.username}</Link></li>\n                        </ul>\n                    </nav>\n                </div>\n            </header>\n\n            <div className=\"l2d\"  id=\"L2d\" >\n                <div id=\"L2dCanvas\" className=\"Canvas\"></div>\n            </div>\n        </div>\n    )\n}\n\nexport default Header;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}