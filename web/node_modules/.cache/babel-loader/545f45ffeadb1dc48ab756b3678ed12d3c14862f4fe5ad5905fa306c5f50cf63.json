{"ast":null,"code":"import React,{useState}from\"react\";import\"./login.css\";import Header from\"../../components/header/header.js\";import Footer from\"../../components/footer/footer.js\";import ErrorBox from\"../../components/errorBox/errorBox.js\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){const[user,setUser]=useState(\"\");const[pwd,setPwd]=useState(\"\");const[message,setMessage]=useState(\"\");const handleSubmit=async event=>{// TODO: Finish handler\nevent.preventDefault();fetch('/api/user/login_process',{method:'POST',headers:{'Content-Type':'application/x-www-form-urlencoded'},body:new URLSearchParams({'user':username,'pwd':password})}).then(response=>response.json()).then(data=>{if(data.code===200){console.log(\"Login successful:\",data);// Perform actions after successful login\nsetLoginText(data);}else{console.error(\"Login failed:\",data.message);// Handle login failure\nalert(data.message);}}).catch(error=>console.error('Error fetching data:',error));};return/*#__PURE__*/_jsxs(\"div\",{className:\"login\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Header,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"frame\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login_sub\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:\"Login\"}),/*#__PURE__*/_jsx(\"div\",{className:\"biao\",children:/*#__PURE__*/_jsxs(\"form\",{id:\"myForm\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{id:\"boxs\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"box1\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username: \"}),/*#__PURE__*/_jsx(\"label\",{children:\"Password: \"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"box2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"user\",value:user,onChange:e=>setUser(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"pwd\",value:pwd,onChange:e=>setPwd(e.target.value)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container2\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"button\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"button__line\"}),/*#__PURE__*/_jsx(\"div\",{className:\"button__line\"}),/*#__PURE__*/_jsx(\"span\",{className:\"button__text\",children:\"Login\"})]}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"/register\",id:\"go_to_register\",children:\"I don't have an account. I want to sign up!\"})})]})]})})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Footer,{})})]});}export default Login;","map":{"version":3,"names":["React","useState","Header","Footer","ErrorBox","jsx","_jsx","jsxs","_jsxs","Login","user","setUser","pwd","setPwd","message","setMessage","handleSubmit","event","preventDefault","fetch","method","headers","body","URLSearchParams","username","password","then","response","json","data","code","console","log","setLoginText","error","alert","catch","className","children","id","onSubmit","type","name","value","onChange","e","target","href"],"sources":["/Users/kaileying/Documents/Repos/BinLTools_Gin/web/src/pages/login/login.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport \"./login.css\";\nimport Header from \"../../components/header/header.js\";\nimport Footer from \"../../components/footer/footer.js\";\nimport ErrorBox from \"../../components/errorBox/errorBox.js\";\n\nfunction Login() {\n    const [user, setUser] = useState(\"\");\n    const [pwd, setPwd] = useState(\"\");\n    const [message, setMessage] = useState(\"\");\n\n    const handleSubmit = async (event) => {\n        // TODO: Finish handler\n        event.preventDefault();\n        \n        fetch('/api/user/login_process', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/x-www-form-urlencoded',\n            },\n            body: new URLSearchParams({\n                'user': username,\n                'pwd': password\n            })\n        })\n        .then(response => response.json())\n        .then(data => {\n            if (data.code === 200) {\n                console.log(\"Login successful:\", data);\n                // Perform actions after successful login\n                setLoginText(data);\n            } else {\n                console.error(\"Login failed:\", data.message);\n                // Handle login failure\n                alert(data.message);\n            }\n        })\n        .catch(error => console.error('Error fetching data:', error));\n    };\n\n    return (\n        <div className=\"login\">\n            {/* Import Header */}\n            <div>\n                <Header />\n            </div>\n\n            <div className=\"frame\">\n                <div className='login_sub'>\n                    <div className='title'>Login</div>\n                    <div className='biao'>\n                        <form id=\"myForm\" onSubmit={handleSubmit}>\n                            <div id=\"boxs\">\n                                <div className=\"box1\">\n                                    <label>Username: </label>\n                                    <label>Password: </label>\n                                </div>\n                                <div className=\"box2\">\n                                    <input\n                                        type=\"text\"\n                                        name=\"user\"\n                                        value={user}\n                                        onChange={(e) => setUser(e.target.value)}\n                                    />\n                                    <input\n                                        type=\"password\"\n                                        name=\"pwd\"\n                                        value={pwd}\n                                        onChange={(e) => setPwd(e.target.value)}\n                                    />\n                                </div>\n                            </div>\n                            <div className=\"container2\">\n                                <button type=\"submit\" className=\"button\">\n                                    <div className=\"button__line\"></div>\n                                    <div className=\"button__line\"></div>\n                                    <span className=\"button__text\">Login</span>\n                                </button>\n                                <p><a href=\"/register\" id=\"go_to_register\">I don't have an account. I want to sign up!</a></p>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n\n            {/* Import Footer */}\n            <div>\n                <Footer />\n            </div>\n        </div>\n    );\n}\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}